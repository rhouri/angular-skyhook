(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{glzE:function(t,e,n){"use strict";n.d(e,"b",function(){return p}),n.d(e,"d",function(){return g}),n.d(e,"g",function(){return d}),n.d(e,"f",function(){return b}),n.d(e,"c",function(){return D}),n.d(e,"e",function(){return j}),n.d(e,"h",function(){return I}),n.d(e,"a",function(){return T}),n.d(e,"i",function(){return E});var i=n("D57K"),r=n("LiEJ"),s=n("LR82"),o=n("fQLH"),c=n("lqvn"),h=n("z5yO"),a=function(){function t(t,e){this.width=t,this.height=e}return t.prototype.style=function(){return{width:this.width+"px",height:this.height+"px"}},t}(),u={halfway:"halfway",fixed:"fixed"},p=function(){function t(t,e,n){var o=this;this.dnd=t,this.el=e,this.cdr=n,this.listId=Math.random().toString(),this.horizontal=!1,this.hoverTrigger=u.halfway,this.childrenSubject$=new r.a([]),this.children$=this.childrenSubject$,this.subs=new s.a,this.listSubs=new s.a,this.target=this.dnd.dropTarget(null,{canDrop:function(t){if(t.getItemType()!==o.spec.type)return!1;var e=t.getItem();return!!e&&o.getCanDrop(e)},drop:function(t){var e=t.getItem();return e&&o.getCanDrop(e)&&o.spec&&o.spec.drop&&o.spec.drop(e),{}},hover:function(t){var e=t.getItem();o.children&&function(t){var e,n;try{for(var r=Object(i.h)(t),s=r.next();!s.done;s=r.next())return!1}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return!0}(o.children)&&e&&o.getCanDrop(e)&&t.isOver({shallow:!0})&&o.callHover(e,{listId:o.listId,index:0})}},this.subs)}return t.prototype.updateSubscription=function(){var t=this;if(null!=this.listId&&this.spec&&(this.listSubs&&(this.subs.remove(this.listSubs),this.listSubs.unsubscribe()),this.spec.getList)){var e=this.spec.getList(this.listId);this.listSubs=e&&e.subscribe(function(e){e&&(t.childrenSubject$.next(e),t.children=e,t.cdr.markForCheck())}),this.subs.add(this.listSubs)}},t.prototype.contextFor=function(t,e){return{data:t,index:e,listId:this.listId,spec:this.spec,horizontal:this.horizontal,hoverTrigger:this.hoverTrigger}},t.prototype.getCanDrop=function(t,e){return void 0===e&&(e=!0),this.spec&&this.spec.canDrop?this.spec.canDrop(t):e},t.prototype.callHover=function(t,e){e&&(t.hover=e,t=Object(i.a)({},t)),this.spec&&this.spec.hover&&this.spec.hover(t)},t.prototype.ngOnInit=function(){this.updateSubscription(),this.target.setTypes(this.spec.type)},t.prototype.ngOnChanges=function(t){var e=t.spec;t.listId&&this.updateSubscription(),e&&this.updateSubscription(),this.target.setTypes(this.spec.type)},t.prototype.ngAfterViewInit=function(){if(!this.el)throw new Error("ssSortable directive must have ElementRef");this.target.connectDropTarget(this.el.nativeElement)},t.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},t}(),d=function(){return function(){}}(),g=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.trackById=function(t,e){return r.spec&&r.spec.trackBy(e)},r}return Object(i.c)(e,t),Object.defineProperty(e.prototype,"ssRenderTemplates",{set:function(t){t.length>0&&(this.template=t.first)},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){if(!this.template)throw new Error('You must provide a <ng-template cardTemplate> as a content child, or with [template]="myTemplateRef"')},e.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this)},e.prototype.ngAfterViewInit=function(){t.prototype.ngAfterViewInit.call(this)},e.prototype.ngOnChanges=function(e){t.prototype.ngOnChanges.call(this,e)},e.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this)},e}(p),f=function(t,e,n,i){var r=e.hover,s=(t.horizontal?i.x:i.y)<(t.horizontal?n.left:n.top)+(t.horizontal?n.width||n.right-n.left:n.height||n.bottom-n.top)/2;return t.listId===r.listId?t.index<r.index?s?t.index:t.index+1:s?t.index-1:t.index:s?t.index:t.index+1},l=function(t){return t.index},y=requestAnimationFrame||webkitRequestAnimationFrame||function(t){return setTimeout(t,0)},b=function(){function t(t,e){var n=this;this.dnd=t,this.el=e,this.subs=new s.a,this.sameIds=function(t,e){return t&&e.data&&n.spec.trackBy(t)===n.spec.trackBy(e.data)},this.target=this.dnd.dropTarget(null,{canDrop:function(){return!1},hover:function(t){var e=t.getItem(),i=t.getClientOffset();e&&i&&n.hover(e,i)}},this.subs),this.source=this.dnd.dragSource(null,{isDragging:function(t){var e=t.getItem();return n.isDragging(e)},beginDrag:function(){var t=n.createItem();return n.spec&&n.spec.beginDrag&&y(function(){n.spec&&n.spec.beginDrag&&n.spec.beginDrag(t)}),t},endDrag:function(t){var e=t.getItem();e&&n.spec&&n.spec.endDrag&&n.spec.endDrag(e)}},this.subs),this.isDragging$=this.source.listen(function(t){return t.isDragging()})}return Object.defineProperty(t.prototype,"data",{get:function(){return this.context.data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.context.spec&&this.context.spec.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listId",{get:function(){return this.context.listId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.context.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spec",{get:function(){return this.context.spec},enumerable:!0,configurable:!0}),t.prototype.createItem=function(){return{data:this.data,index:this.index,size:this.size(),type:this.type,isInternal:!0,listId:this.listId,hover:{index:this.index,listId:this.listId}}},t.prototype.isDragging=function(t){return t&&(this.spec&&this.spec.isDragging||this.sameIds)(this.data,t)||!1},t.prototype.hover=function(t,e){if(!this.isDragging(t)||this.index!==t.hover.index||this.listId!==t.hover.listId){var n=t.hover,r=function(t){switch(t){case u.fixed:return l;default:return f}}(this.context.hoverTrigger)(this.context,t,this.rect(),e);if(r<0)throw new Error("@angular-skyhook/sortable: Cannot move a card to an index < 0.");if(r!==n.index||this.listId!==n.listId){if(t.hover={index:r,listId:this.listId},this.spec&&this.spec.canDrop&&!this.spec.canDrop(t))return;this.spec&&this.spec.hover&&this.spec.hover(Object(i.a)({},t))}}},t.prototype.rect=function(){if(!this.el)throw new Error("@angular-skyhook/sortable: [ssRender] expected to be attached to a real DOM element");return this.el.nativeElement.getBoundingClientRect()},t.prototype.size=function(){var t=this.rect();return new a(t.width||t.right-t.left,t.height||t.bottom-t.top)},t.prototype.ngOnInit=function(){this.target.setTypes(this.type),this.source.setType(this.type)},t.prototype.ngAfterViewInit=function(){this.el&&this.target.connectDropTarget(this.el.nativeElement)},t.prototype.ngOnChanges=function(){this.target.setTypes(this.type),this.source.setType(this.type)},t.prototype.ngOnDestroy=function(){this.subs.unsubscribe()},t}(),v=Symbol("EXTERNAL_LIST_ID"),D=function(){function t(t,e){var n=this;this.dnd=t,this.el=e,this.source=this.dnd.dragSource(null,{beginDrag:function(){if("function"!=typeof n.spec.createData)throw new Error("spec.createData must be a function");return{type:n.spec.type,data:n.spec.createData(),hover:{index:-1,listId:v},isInternal:!1,index:-1,listId:v,size:n.size()}},endDrag:function(t){var e=t.getItem();e&&n.spec&&n.spec.endDrag&&n.spec.endDrag(e)}})}return t.prototype.size=function(){var t=this.el.nativeElement.getBoundingClientRect();return new a(t.width||t.right-t.left,t.height||t.bottom-t.top)},t.prototype.ngOnChanges=function(){this.source.setType(this.spec.type)},t.prototype.ngOnDestroy=function(){this.source.unsubscribe()},t}(),I={BeginDrag:"BeginDrag",Hover:"Hover",Drop:"Drop",EndDrag:"EndDrag"},m=function(){return function(t,e){this.type=t,this.item=e,this.event=I.BeginDrag}}(),w=function(){return function(t,e){this.type=t,this.item=e,this.event=I.Hover}}(),x=function(){return function(t,e){this.type=t,this.item=e,this.event=I.Drop}}(),O=function(){return function(t,e){this.type=t,this.item=e,this.event=I.EndDrag}}(),T=function(){return function(t,e,n){var i=this;this.store=t,this.actionType=e,this.beginDrag=function(t){i.store.dispatch(new m(i.actionType,t))},this.hover=function(t){i.store.dispatch(new w(i.actionType,t))},this.drop=function(t){i.store.dispatch(new x(i.actionType,t))},this.endDrag=function(t){i.store.dispatch(new O(i.actionType,t))},n.type&&(this.type=n.type),n.trackBy&&(this.trackBy=n.trackBy),n.getList&&(this.getList=n.getList),n.canDrag&&(this.canDrag=n.canDrag),n.canDrop&&(this.canDrop=n.canDrop),n.isDragging&&(this.isDragging=n.isDragging)}}(),S=Symbol("SPILLED_LIST_ID"),E=function(t,e,n){var r=function(t){return t?(t.hover={listId:S,index:-1},Object(i.a)({},t)):null},s=new o.a,a=t.dropTarget(e,{hover:function(t){if(t.canDrop()&&t.isOver({shallow:!0})){var e=r(t.getItem());s.next(e)}else s.next(null)},drop:n.drop&&function(t){var e=r(t.getItem());t.didDrop()||n.drop&&e&&n.drop(e)}||void 0}),u=s.pipe(Object(c.a)(),Object(h.a)(function(t){return!!t})).subscribe(function(t){n.hover&&t&&n.hover(t)});return a.add(u),a},j=function(){return function(){}}()}}]);