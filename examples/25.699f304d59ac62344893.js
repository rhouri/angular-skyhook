(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{CvU0:function(n,l,e){"use strict";e.r(l);var t=e("LoAr"),u=function(){return function(){}}(),r=e("C9Ky"),o=e("O/wF"),i=e("8dL6"),d=e("WT9V"),c=e("GovN");function s(n){for(var l=5381,e=0;e<n.length;e++)l=(l<<5)+l+n.charCodeAt(e);return l}var a=Object(c.C)("simple-ngrx"),f=Object(c.E)(a,function(n){var l=n.flying,e=n.draggingList||n.list;return null!=l?e.insert(l.hover.index,l.data):e}),p=Object(c.E)(a,function(n){return n.list}),g=function(n){return s(n.map(function(n){return""+n.id+n.hash.toString()}).toArray().join(" "))},h=Object(c.E)(f,g),m=Object(c.E)(p,g),b=Object(c.E)(a,function(n){return n.kbSelected}),v=Object(c.E)(a,function(n){return n.kbLifted?n.kbSelected:-1}),y=function(){return function(n){this.store=n,this.unstable$=this.store.select(h),this.stable$=this.store.select(m)}}(),k=t["\u0275crt"]({encapsulation:0,styles:["p[_ngcontent-%COMP%] { margin-top: 0; }"],data:{}});function O(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,9,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Hash of the unstable list: "])),(n()(),t["\u0275eld"](2,0,null,null,2,"code",[],null,null,null,null,null)),(n()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,d.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275eld"](5,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,[" Hash of the stable list: "])),(n()(),t["\u0275eld"](7,0,null,null,2,"code",[],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),t["\u0275pid"](131072,d.AsyncPipe,[t.ChangeDetectorRef])],null,function(n,l){var e=l.component;n(l,3,0,t["\u0275unv"](l,3,0,t["\u0275nov"](l,4).transform(e.unstable$))),n(l,8,0,t["\u0275unv"](l,8,0,t["\u0275nov"](l,9).transform(e.stable$)))})}var x,_=e("r6jt"),C=e("glzE"),w=e("D57K"),L=e("og7C"),P=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Object(w.c)(l,n),l.create=function(n){return new l({id:l.nextId++,content:n,hash:s(n)})},l.nextId=0,l}(Object(L.b)({id:0,hash:s(""),content:""})),S=e("Mrh4");!function(n){n.SORT="[simple-ngrx] SORT",n.KB_SELECT="[simple-ngrx] KB_SELECT",n.KB_LIFT="[simple-ngrx] KB_LIFT",n.KB_DROP="[simple-ngrx] KB_DROP",n.KB_UP="[simple-ngrx] KB_UP",n.KB_DOWN="[simple-ngrx] KB_DOWN"}(x||(x={}));var M=function(){return function(n){this.id=n,this.type=x.KB_SELECT}}(),R=function(){return function(){this.type=x.KB_LIFT}}(),B=function(){return function(){this.type=x.KB_DROP}}(),D=function(){return function(){this.type=x.KB_UP}}(),K=function(){return function(){this.type=x.KB_DOWN}}(),E=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Object(w.c)(l,n),l}(Object(L.b)({list:Object(L.a)(Array.from(new Array(6),function(){return S.fake("/home/mezcal/{{system.fileName}}")}).map(P.create)),draggingList:null,flying:null,kbSelected:0,kbLifted:!1}));function j(n){return n.list.findIndex(function(l){return l.id===n.kbSelected})}function T(n,l,e){if(e=Math.max(0,Math.min(n.list.count()-1,e)),!n.kbLifted)return n.set("kbSelected",n.list.get(e).id);var t=n.list.get(l);return n.update("list",function(n){return n.remove(l).insert(e,t)})}function $(n,l){switch(void 0===n&&(n=new E),l.type){case x.SORT:return function(n,l){void 0===n&&(n=new E);var e=l.item,t=e.index,u=e.hover,r=e.data;switch(l.event){case C.h.BeginDrag:return n.set("draggingList",n.list.remove(t)).set("flying",l.item).set("kbSelected",l.item.data.id).set("kbLifted",!1);case C.h.Hover:return n.set("flying",l.item);case C.h.Drop:return n.set("list",n.draggingList.insert(u.index,r)).delete("draggingList").delete("flying").set("kbSelected",l.item.data.id).set("kbLifted",!1);case C.h.EndDrag:return n.delete("draggingList").delete("flying").set("kbSelected",l.item.data.id).set("kbLifted",!1);default:return n}}(n,l);case x.KB_SELECT:return n.set("kbSelected",l.id);case x.KB_LIFT:return n.set("kbLifted",!n.kbLifted);case x.KB_DROP:return n.set("kbLifted",!1);case x.KB_UP:return T(n,e=j(n),e-1);case x.KB_DOWN:var e;return T(n,e=j(n),e+1)}return n}var F=e("pms5"),A=function(){function n(n,l){var e=this;this.store=n,this.hotkeys=l,this.rxSpec=new C.a(this.store,x.SORT,{type:"BLOB",trackBy:function(n){return n.id},getList:function(n){return e.store.select(f)}}),this.selected$=this.store.select(b),this.lifted$=this.store.select(v),this.hotkeys.add(new F.Hotkey("enter",function(n){return e.store.dispatch(new R),!1},[],"Lift up or put down selected item")),this.hotkeys.add(new F.Hotkey("up",function(n){return e.store.dispatch(new D),!1},[],"Move selection or lifted item up")),this.hotkeys.add(new F.Hotkey("down",function(n){return e.store.dispatch(new K),!1},[],"Move selection or lifted item down")),this.hotkeys.add(new F.Hotkey("esc",function(n){return e.store.dispatch(new B),!1},[],"Put down lifted item"))}return n.prototype.click=function(n){this.store.dispatch(new M(n.id))},n}(),I=e("8X04"),H=t["\u0275crt"]({encapsulation:0,styles:[["tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:move;color:#b73030;background:rgba(142,174,15,.1)}td[_ngcontent-%COMP%]{padding:4px}.blob--selected[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#d6ddbe}tr.blob--lifted[_ngcontent-%COMP%]{-webkit-transform:translateX(8px);transform:translateX(8px)}tr.blob--lifted[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#f9d456}td.hash[_ngcontent-%COMP%]{background:rgba(142,174,15,.3);text-align:right}td.hash[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:0 0}.blob--placeholder[_ngcontent-%COMP%]{opacity:.4}"]],data:{}});function N(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,10,"tr",[],[[2,"blob--placeholder",null],[2,"blob--selected",null],[2,"blob--lifted",null]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.click(n.context.$implicit)&&t),t},null,null)),t["\u0275did"](1,671744,null,0,_.d,[t.ElementRef,t.NgZone],{dragSource:[0,"dragSource"]},null),t["\u0275did"](2,4931584,[["render",4]],0,C.f,[_.g,t.ElementRef],{context:[0,"context"]},null),t["\u0275pid"](131072,d.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,d.AsyncPipe,[t.ChangeDetectorRef]),t["\u0275pid"](131072,d.AsyncPipe,[t.ChangeDetectorRef]),(n()(),t["\u0275eld"](6,0,null,null,2,"td",[["class","hash"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,1,"code",[],null,null,null,null,null)),(n()(),t["\u0275ted"](8,null,["",""])),(n()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),t["\u0275ted"](10,null,["",""]))],function(n,l){n(l,1,0,t["\u0275nov"](l,2).source),n(l,2,0,t["\u0275nov"](l.parent,1).contextFor(l.context.$implicit,l.context.index))},function(n,l){var e=l.component;n(l,0,0,t["\u0275unv"](l,0,0,t["\u0275nov"](l,3).transform(t["\u0275nov"](l,2).isDragging$)),l.context.$implicit.id===t["\u0275unv"](l,0,1,t["\u0275nov"](l,4).transform(e.selected$)),l.context.$implicit.id===t["\u0275unv"](l,0,2,t["\u0275nov"](l,5).transform(e.lifted$))),n(l,8,0,l.context.$implicit.hash),n(l,10,0,l.context.$implicit.content)})}function U(n){return t["\u0275vid"](2,[(n()(),t["\u0275eld"](0,0,null,null,11,"table",[["class","list"],["ssSortable",""]],null,null,null,null,null)),t["\u0275did"](1,4931584,[["sortable",4]],0,C.b,[_.g,t.ElementRef,t.ChangeDetectorRef],{spec:[0,"spec"]},null),(n()(),t["\u0275eld"](2,0,null,null,5,"thead",[],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,4,"tr",[],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Hash"])),(n()(),t["\u0275eld"](6,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Filename"])),(n()(),t["\u0275eld"](8,0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,2,null,N)),t["\u0275did"](10,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["\u0275pid"](131072,d.AsyncPipe,[t.ChangeDetectorRef])],function(n,l){n(l,1,0,l.component.rxSpec),n(l,10,0,t["\u0275unv"](l,10,0,t["\u0275nov"](l,11).transform(t["\u0275nov"](l,1).children$)))},null)}var z=function(){return function(){}}(),W=t["\u0275crt"]({encapsulation:0,styles:[".sep[_ngcontent-%COMP%] {\n        border-bottom: 1px solid #999;\n        margin-bottom: 8px;\n        max-width: 700px;\n    }"],data:{}});function J(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-example-link",[["path","sortable/keyboard"]],null,null,null,o.b,o.a)),t["\u0275did"](1,49152,null,0,i.a,[],{path:[0,"path"]},null),(n()(),t["\u0275eld"](2,0,null,null,4,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["This one uses an "])),(n()(),t["\u0275eld"](4,0,null,null,1,"code",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["@ngrx/store"])),(n()(),t["\u0275ted"](-1,null,[" with Immutable.js data. This is very convenient, since Immutable.js has its own 'insert' and 'remove' operations."])),(n()(),t["\u0275eld"](7,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["It also is a demo for"])),(n()(),t["\u0275eld"](9,0,null,null,12,"ul",[],null,null,null,null,null)),(n()(),t["\u0275eld"](10,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Sorting overlaid on bare HTML table rows using the "])),(n()(),t["\u0275eld"](12,0,null,null,1,"code",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["ssSortable"])),(n()(),t["\u0275ted"](-1,null,[" directive, without intermediate DOM nodes."])),(n()(),t["\u0275eld"](15,0,null,null,4,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Keyboard driven sorting, using "])),(n()(),t["\u0275eld"](17,0,null,null,1,"code",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["angular2-mousetrap"])),(n()(),t["\u0275ted"](-1,null,[". Try using the arrow keys and enter to lift/put down."])),(n()(),t["\u0275eld"](20,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Selectors based on the 'unstable' / 'in-flight' rendered list, and the 'stable' / 'saved' one."])),(n()(),t["\u0275eld"](22,0,null,null,1,"rxsort-summary",[],null,null,null,O,k)),t["\u0275did"](23,49152,null,0,y,[c.n],null,null),(n()(),t["\u0275eld"](24,0,null,null,0,"div",[["class","sep"]],null,null,null,null,null)),(n()(),t["\u0275eld"](25,0,null,null,1,"rxsort-sortable",[],null,null,null,U,H)),t["\u0275did"](26,49152,null,0,A,[c.n,I.HotkeysService],null,null)],function(n,l){n(l,1,0,"sortable/keyboard")},null)}function X(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"rxsort-container",[],null,null,null,J,W)),t["\u0275did"](1,49152,null,0,z,[],null,null)],null,null)}var q=t["\u0275ccf"]("rxsort-container",z,X,{},{},[]),V=e("JqZp"),Z=e("yziD"),G=e("981U");e.d(l,"KeyboardModuleNgFactory",function(){return Q});var Q=t["\u0275cmf"](u,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,q]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[t.LOCALE_ID,[2,d["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](1073742336,d.CommonModule,d.CommonModule,[]),t["\u0275mpd"](1073742336,V.a,V.a,[]),t["\u0275mpd"](1073742336,_.f,_.f,[]),t["\u0275mpd"](1073742336,Z.b,Z.b,[]),t["\u0275mpd"](1073742336,C.e,C.e,[]),t["\u0275mpd"](1024,c.j,function(){return[{key:"simple-ngrx",reducerFactory:c.A,metaReducers:[],initialState:void 0}]},[]),t["\u0275mpd"](1024,c.r,function(){return[$]},[]),t["\u0275mpd"](1024,c.s,function(n){return[n]},[c.r]),t["\u0275mpd"](1024,c.b,function(n,l,e){return[c.x(n,l,e)]},[t.Injector,c.r,c.s]),t["\u0275mpd"](1073873408,c.o,c.o,[c.j,c.b,c.g,c.q]),t["\u0275mpd"](1073742336,G.n,G.n,[[2,G.t],[2,G.k]]),t["\u0275mpd"](1073742336,F.HotkeyModule,F.HotkeyModule,[]),t["\u0275mpd"](1073742336,u,u,[]),t["\u0275mpd"](1024,G.i,function(){return[[{path:"",component:z}]]},[])])})}}]);